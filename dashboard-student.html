<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Dashboard | School Management</title>
<style>
/* Reset */
* { margin:0; padding:0; box-sizing:border-box; font-family: Arial, sans-serif; }

/* Layout */
body { display:flex; min-height:100vh; background:#f4f6f9; }
.sidebar { width:0; background:#2980b9; color:white; overflow-x:hidden; transition:0.4s; position:fixed; height:100%; z-index:100; }
.sidebar.active { width:220px; }
.sidebar h2 { text-align:center; margin:20px 0; }
.sidebar button { width:100%; background:none; border:none; color:white; padding:12px 20px; text-align:left; font-size:16px; cursor:pointer; border-radius:6px; margin-bottom:6px; }
.sidebar button:hover, .sidebar button.active { background: rgba(255,255,255,0.2); }
.main { flex:1; margin-left:0; transition:0.4s; padding:20px; }
.main.shifted { margin-left:220px; }

/* Cards & Sections */
.card { background:white; padding:20px; border-radius:10px; margin-bottom:20px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
.section { display:none; }
.section.active { display:block; }

/* Profile Table */
table { width:100%; border-collapse: collapse; margin-top:15px; }
th, td { padding:8px; border-bottom:1px solid #ddd; text-align:center; }
th { background:#f0f2f5; }

/* Buttons */
button.submit-btn { background:#2980b9; color:white; padding:6px 12px; border:none; border-radius:6px; cursor:pointer; }
button.submit-btn:hover { opacity:0.9; }

/* Topbar */
.topbar { width:100%; height:50px; background:white; display:flex; align-items:center; padding:0 20px; box-shadow:0 2px 5px rgba(0,0,0,0.1); position:fixed; z-index:90; }
.menu-toggle { font-size:24px; cursor:pointer; margin-right:20px; }
.topbar h1 { font-size:20px; }

/* Responsive */
@media(max-width:768px){ .sidebar.active{width:180px;} .main.shifted{margin-left:180px;} }
</style>
</head>
<body>

<!-- Sidebar -->
<div class="sidebar" id="sidebar">
  <h2>Student Dashboard</h2>
  <button class="active" onclick="openSection(this,'profile')">Profile</button>
  <button onclick="openSection(this,'classstream')">Class & Stream</button>
  <button onclick="openSection(this,'reportcard')">Report Card</button>
  <button onclick="openSection(this,'fees')">Fees & Payments</button>
  <button onclick="openSection(this,'receipts')">Receipts</button>
  <button onclick="logout()">Logout</button>
</div>

<!-- Main Content -->
<div class="main" id="main">
  <div class="topbar">
    <span class="menu-toggle" onclick="toggleSidebar()">&#9776;</span>
    <h1>School Management System</h1>
  </div>

  <div style="margin-top:60px;">
    <!-- Profile -->
    <div id="profile" class="section card active">
      <h3>User Profile</h3>
      <table>
        <tr><th>Username</th><td id="profile-username">student1</td></tr>
        <tr><th>Full Name</th><td id="profile-name">John Doe</td></tr>
        <tr><th>Email</th><td id="profile-email">johndoe@example.com</td></tr>
        <tr><th>Phone</th><td id="profile-phone">+233 24 123 4567</td></tr>
      </table>
    </div>

    <!-- Class & Stream -->
    <div id="classstream" class="section card">
      <h3>Class & Stream Assignment</h3>
      <table>
        <tr><th>Class</th><td>JHS 1</td></tr>
        <tr><th>Stream / House</th><td>Red House</td></tr>
      </table>
    </div>

    <!-- Report Card -->
    <div id="reportcard" class="section card">
      <h3>Report Card</h3>
      <table>
        <thead>
          <tr>
            <th>Subject</th>
            <th>CA</th>
            <th>Exam</th>
            <th>Total</th>
            <th>Grade</th>
          </tr>
        </thead>
        <tbody id="reportcard-body">
          <!-- Example data; can be populated from JS -->
        </tbody>
      </table>
      <p id="overall"></p>
    </div>

    <!-- Fees & Payments -->
    <div id="fees" class="section card">
      <h3>Fee Structure & Payments</h3>
      <table>
        <tr><th>Total Fees</th><td>GH₵ 5,000</td></tr>
        <tr><th>Payments Made</th><td>GH₵ 3,000</td></tr>
        <tr><th>Outstanding Balance</th><td>GH₵ 2,000</td></tr>
      </table>
    </div>

    <!-- Receipts -->
    <div id="receipts" class="section card">
      <h3>Receipts</h3>
      <table>
        <thead><tr><th>Date</th><th>Amount</th><th>Receipt #</th></tr></thead>
        <tbody>
          <tr><td>2026-01-05</td><td>GH₵ 1,500</td><td>R001</td></tr>
          <tr><td>2026-01-10</td><td>GH₵ 1,500</td><td>R002</td></tr>
        </tbody>
      </table>
      <button class="submit-btn" onclick="alert('Printable receipt generated!')">Print Receipt</button>
    </div>

  </div>
</div>

<script>
function toggleSidebar(){
  document.getElementById('sidebar').classList.toggle('active');
  document.getElementById('main').classList.toggle('shifted');
}

function openSection(btn,id){
  document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
  document.querySelectorAll(".sidebar button").forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

function logout(){
  sessionStorage.clear();
  alert('Logged out!');
  window.location.href = "login.html";
}

// Example: populate report card dynamically
const subjects = ["Mathematics","English","Science","Social Studies","ICT","French","RME","PE","Music","Art"];
const reportBody = document.getElementById("reportcard-body");
let totalAll=0;
subjects.forEach((sub)=>{
  let ca=Math.floor(Math.random()*21);  // CA 0-20
  let exam=Math.floor(Math.random()*81); // Exam 0-80
  let total=ca+exam;
  totalAll+=total;
  let grade = total>=70?"A":total>=60?"B":total>=50?"C":total>=45?"D":"F";
  let row = `<tr><td>${sub}</td><td>${ca}</td><td>${exam}</td><td>${total}</td><td>${grade}</td></tr>`;
  reportBody.innerHTML += row;
});
let avg = (totalAll/subjects.length).toFixed(2);
document.getElementById("overall").innerText = `Overall Total: ${totalAll}, Average: ${avg}, Status: ${avg>=50?'Pass':'Fail'}`;
</script>

</body>
</html>
